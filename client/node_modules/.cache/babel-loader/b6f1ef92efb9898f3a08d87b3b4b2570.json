{"ast":null,"code":"import _asyncToGenerator from\"/Users/tylerwest/Desktop/weatherapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tylerwest/Desktop/weatherapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/tylerwest/Desktop/weatherapp/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useRef,useState}from'react';import moment from'moment';import'../src/App.scss';import lottie from'lottie-web';import{useForm,useWatch}from'react-hook-form';import PlaceholderCards from'./Components/PlaceholderCards';import CardDetail from'./Components/CardDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _userLocation$daily;//Hello world\nvar apiKey=\"8bd04b4c4bc8f493a35b227dba34ae78\";var _useState=useState(0),_useState2=_slicedToArray(_useState,2),latitude=_useState2[0],setLatitude=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),longitude=_useState4[0],setlongitude=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userLocation=_useState6[0],setUserLocation=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),weather=_useState8[0],setWeather=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),days=_useState10[0],setDays=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var _useState13=useState({customLatitude:null,customLongitude:null}),_useState14=_slicedToArray(_useState13,2),customLocation=_useState14[0],setCustomLocation=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),cardDetail=_useState16[0],setCardDetail=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),cardDetailVisible=_useState18[0],setCardDetailVisible=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),usingCurrentLocation=_useState20[0],setUsingCurrentLocation=_useState20[1];var _useState21=useState(true),_useState22=_slicedToArray(_useState21,2),errorState=_useState22[0],setErrorState=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),animationDestroyed=_useState24[0],setAnimationDestroyed=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),error=_useState26[0],setError=_useState26[1];//Weather animations\nvar sunny=require('../src/svg/sunny.json');var snow=require('../src/svg/rainy.json');var cloudy=require('../src/svg/cloudy.json');var rainy=require('../src/svg/rainy.json');//Submit custom data\nvar _onSubmit=function onSubmit(e){e.preventDefault();var inputData=new FormData(e.target);var iLatitude=inputData.get('latitude');var iLongitude=inputData.get('longitude');var data={inputLatitude:iLatitude,inputLongitude:iLongitude};getCustomLocation(data);};var container=useRef(null);var loaderAnim=function loaderAnim(){lottie.loadAnimation({container:container.current,renderer:'svg',loop:true,autoplay:true,animationData:require('../src/svg/loader.json')});};var sunnyAnim=function sunnyAnim(card,weather){lottie.loadAnimation({container:card,renderer:'svg',loop:true,autoplay:true,animationData:weather});console.log('loading sunny anim');};//Check for location permissions\nvar checkPermissions=function checkPermissions(){navigator.permissions.query({name:'geolocation'}).then(function(result){// Will return ['granted', 'prompt', 'denied']\nconsole.log(result.state);if(result.state==='granted'){getLocation();}else{console.log('Enable location to use current location');var data={latitude:37.7749,longitude:122.4194};getWeather(data);}});};//State changed\nuseEffect(function(){checkPermissions();setLoading(true);loaderAnim();},[]);//Get location\nvar getLocation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);if(animationDestroyed){loaderAnim();}_context.next=4;return navigator.geolocation.getCurrentPosition(function(position){setLoading(false);var currentLocation=position.coords;console.log(\"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(currentLocation.latitude,\"&lon=\").concat(currentLocation.longitude,\"&units=imperial&appid=\").concat(apiKey));getWeather(currentLocation);setUsingCurrentLocation(true);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function getLocation(){return _ref.apply(this,arguments);};}();//Get custom location\nvar getCustomLocation=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(data);setLoading(true);if(animationDestroyed){loaderAnim();}_context2.next=5;return fetch(\"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(data.inputLatitude,\"&lon=\").concat(data.inputLongitude,\"&units=imperial&appid=\").concat(apiKey)).then(function(response){return response.json();}).then(function(data){setLoading(false);lottie.destroy();setAnimationDestroyed(true);setUsingCurrentLocation(false);console.log(data);//User location\n//User location\nsetUserLocation(data);var weatherData=data.daily;setWeather(weatherData);//Set days\n//Set days\nvar newDays=[];data.daily.map(function(day){var dayInt=new Date(day.dt*1000).toDateString();newDays.push(dayInt);});//Loading set to false\n//setLoading(false);\n//Loading set to false\n//setLoading(false);\nsetDays(newDays);//Add emoji to each day\n//Add emoji to each day\ndata.daily.map(function(day,index){var id=day.weather[0].id;//Assign\n//Assign\nvar card=document.getElementById(\"card-image-\".concat(index));//Filter weather and pass animation\n//Filter weather and pass animation\nif(id>=200&&id<300){//Thunderstorm\nvar _weather=rainy;sunnyAnim(card,_weather);}else if(id>=300&&id<400){//Drizzle\nvar _weather2=rainy;sunnyAnim(card,_weather2);}else if(id>=300&&id<400){//Rain\nvar _weather3=rainy;sunnyAnim(card,_weather3);}else if(id>=500&&id<600){//Snow\nvar _weather4=snow;sunnyAnim(card,_weather4);}else if(id>=600&&id<700){//Atmosphere\nvar _weather5=cloudy;sunnyAnim(card,_weather5);}else if(id===800){//Clear\nvar _weather6=sunny;sunnyAnim(card,_weather6);}else if(id>800){//Clouds\nvar _weather7=cloudy;sunnyAnim(card,_weather7);}});}).catch(function(err){setError(true);console.log(\"\".concat(err,\" sorry cannot display data\"));setLoading(true);setErrorState(false);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getCustomLocation(_x){return _ref2.apply(this,arguments);};}();//Get weather\nvar getWeather=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(currentLocation){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(currentLocation.latitude,\"&lon=\").concat(currentLocation.longitude,\"&units=imperial&appid=\").concat(apiKey)).then(function(response){return response.json();}).then(function(data){lottie.destroy();setAnimationDestroyed(true);console.log(data);setUsingCurrentLocation(true);//User location\n//User location\nsetUserLocation(data);//Set coordinates\n//Set coordinates\nsetLatitude(currentLocation.latitude);setlongitude(currentLocation.longitude);var weatherData=data.daily;setWeather(weatherData);//Set days\n//Set days\nvar newDays=[];data.daily.map(function(day){var dayInt=new Date(day.dt*1000).toDateString();newDays.push(dayInt);});setDays(newDays);//Loading set to false\n//Loading set to false\nsetLoading(false);//Add emoji to each day\n//Add emoji to each day\ndata.daily.map(function(day,index){var id=day.weather[0].id;//Assign\n//Assign\nvar card=document.getElementById(\"card-image-\".concat(index));//Filter weather and pass animation\n//Filter weather and pass animation\nif(id>=200&&id<300){//Thunderstorm\nvar _weather8=sunny;sunnyAnim(card,_weather8);}else if(id>=300&&id<400){//Drizzle\nvar _weather9=sunny;sunnyAnim(card,_weather9);}else if(id>=300&&id<400){//Rain\nvar _weather10=sunny;sunnyAnim(card,_weather10);}else if(id>=500&&id<600){//Snow\nvar _weather11=snow;sunnyAnim(card,_weather11);}else if(id>=600&&id<700){//Atmosphere\nvar _weather12=cloudy;sunnyAnim(card,_weather12);}else if(id===800){//Clear\nvar _weather13=sunny;sunnyAnim(card,_weather13);}else if(id>800){//Clouds\nvar _weather14=cloudy;sunnyAnim(card,_weather14);}});}).then(function(){console.log('Weather data displayed');}).catch(function(err){setError(true);console.log(\"\".concat(err,\" sorry cannot display data\"));setLoading(true);setErrorState(false);});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function getWeather(_x2){return _ref3.apply(this,arguments);};}();//Card\nfunction cardHandler(e,day){e.preventDefault();console.log(day);setCardDetail(day);setCardDetailVisible(true);}function _handleCardClose(){console.log('Closing card');setCardDetailVisible(false);}function arrowLeftHandler(){console.log(\"Left tapped\");var container=document.getElementById(\"day-card-container\");container.scrollLeft-=container.scrollWidth;}function arrowRightHandler(){console.log(\"Right tapped\");var container=document.getElementById(\"day-card-container\");container.scrollLeft=container.scrollWidth;}return/*#__PURE__*/_jsxs(\"div\",{id:\"page-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{id:\"footer\",children:[\"Made with love from the help of Lottie, OpenWeather API, and React - \",/*#__PURE__*/_jsx(\"a\",{id:\"site-link\",href:\"https://www.tylerwest.co/\",children:\"Tylerwest.co\"})]}),/*#__PURE__*/_jsx(CardDetail,{handleCardClose:function handleCardClose(){return _handleCardClose;},cardDetailVisible:cardDetailVisible,dailyDetails:cardDetail}),/*#__PURE__*/_jsx(\"div\",{id:\"weather-container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"weather\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"loader\",ref:container,className:loading?\"loader-state\":\"\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"weather-form\",children:[loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Predicting weather for...\"}):/*#__PURE__*/_jsx(\"h1\",{children:userLocation.timezone}),/*#__PURE__*/_jsx(\"div\",{id:\"input\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(\"input\",{name:\"latitude\",type:\"number\",step:\"any\",required:\"required\",id:\"inputField\",placeholder:\"Latitude\"}),/*#__PURE__*/_jsx(\"input\",{name:\"longitude\",type:\"number\",step:\"any\",id:\"inputField\",placeholder:\"longitude\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Search location\"}),usingCurrentLocation?/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return getLocation();},children:userLocation.timezone}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return getLocation();},children:\"Use current location\"})]})})]}),loading?/*#__PURE__*/_jsx(PlaceholderCards,{errorState:errorState}):/*#__PURE__*/_jsxs(\"div\",{id:\"day-card-container\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return arrowLeftHandler();},id:\"arrow-left\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"60\",height:\"60\",viewBox:\"0 0 60 60\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"30\",cy:\"30\",r:\"29.5\",fill:\"#2C2C2C\",stroke:\"white\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M26.6066 19L37.2132 29.6066L26.6066 40.2132\",stroke:\"white\"})]})}),/*#__PURE__*/_jsx(\"div\",{id:\"arrow-right\",onClick:function onClick(){return arrowRightHandler();},children:/*#__PURE__*/_jsxs(\"svg\",{width:\"60\",height:\"60\",viewBox:\"0 0 60 60\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"30\",cy:\"30\",r:\"29.5\",fill:\"#2C2C2C\",stroke:\"white\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M26.6066 19L37.2132 29.6066L26.6066 40.2132\",stroke:\"white\"})]})}),(_userLocation$daily=userLocation.daily)===null||_userLocation$daily===void 0?void 0:_userLocation$daily.map(function(day,index){return/*#__PURE__*/_jsxs(\"div\",{id:\"day-card\",onClick:function onClick(e){return cardHandler(e,day);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-image\",id:\"card-image-\".concat(index)}),/*#__PURE__*/_jsx(\"h3\",{id:\"weather-text\",children:day.weather[0].main}),/*#__PURE__*/_jsx(\"h2\",{id:\"day-text\",children:moment.unix(day.dt).format(\"dddd MM/DD\")}),/*#__PURE__*/_jsxs(\"ul\",{id:\"weather-list\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h4\",{id:\"list-sub\",children:\"Day\"}),/*#__PURE__*/_jsx(\"h4\",{id:\"list-header\",children:day.temp.day})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h4\",{id:\"list-sub\",children:\"Morning\"}),/*#__PURE__*/_jsx(\"h4\",{id:\"list-header\",children:day.temp.morn})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h4\",{id:\"list-sub\",children:\"Evening\"}),/*#__PURE__*/_jsx(\"h4\",{id:\"list-header\",children:day.temp.eve})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h4\",{id:\"list-sub\",children:\"Night\"}),/*#__PURE__*/_jsx(\"h4\",{id:\"list-header\",children:day.temp.night})]})]})]},index);})]})]})})]});}export default App;","map":{"version":3,"sources":["/Users/tylerwest/Desktop/weatherapp/client/src/App.js"],"names":["React","useEffect","useRef","useState","moment","lottie","useForm","useWatch","PlaceholderCards","CardDetail","App","apiKey","latitude","setLatitude","longitude","setlongitude","userLocation","setUserLocation","weather","setWeather","days","setDays","loading","setLoading","customLatitude","customLongitude","customLocation","setCustomLocation","cardDetail","setCardDetail","cardDetailVisible","setCardDetailVisible","usingCurrentLocation","setUsingCurrentLocation","errorState","setErrorState","animationDestroyed","setAnimationDestroyed","error","setError","sunny","require","snow","cloudy","rainy","onSubmit","e","preventDefault","inputData","FormData","target","iLatitude","get","iLongitude","data","inputLatitude","inputLongitude","getCustomLocation","container","loaderAnim","loadAnimation","current","renderer","loop","autoplay","animationData","sunnyAnim","card","console","log","checkPermissions","navigator","permissions","query","name","then","result","state","getLocation","getWeather","geolocation","getCurrentPosition","position","currentLocation","coords","fetch","response","json","destroy","weatherData","daily","newDays","map","day","dayInt","Date","dt","toDateString","push","index","id","document","getElementById","catch","err","cardHandler","handleCardClose","arrowLeftHandler","scrollLeft","scrollWidth","arrowRightHandler","timezone","main","unix","format","temp","morn","eve","night"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport moment from 'moment';\nimport '../src/App.scss';\nimport lottie from 'lottie-web';\nimport { useForm, useWatch } from 'react-hook-form';\nimport PlaceholderCards from './Components/PlaceholderCards';\nimport CardDetail from './Components/CardDetail';\n\nfunction App() {\n\n  //Hello world\n  \n  const apiKey = \"8bd04b4c4bc8f493a35b227dba34ae78\";\n\n  const [latitude, setLatitude] = useState(0);\n  const [longitude, setlongitude] = useState(0);\n  const [userLocation, setUserLocation] = useState([]);\n  const [weather, setWeather] = useState([]);\n  const [days, setDays] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [customLocation, setCustomLocation] = useState({\n    customLatitude: null,\n    customLongitude: null\n  })\n  const [cardDetail, setCardDetail] = useState([]);\n  const [cardDetailVisible, setCardDetailVisible] = useState(false);\n  const [usingCurrentLocation, setUsingCurrentLocation] =useState(null);\n  const [errorState, setErrorState] = useState(true);\n  const [animationDestroyed, setAnimationDestroyed] = useState(null);\n\n  const [error, setError] = useState(null);\n\n  //Weather animations\n  const sunny = require('../src/svg/sunny.json');\n  const snow = require('../src/svg/rainy.json');\n  const cloudy = require('../src/svg/cloudy.json');\n  const rainy = require('../src/svg/rainy.json');\n\n  //Submit custom data\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const inputData = new FormData(e.target);\n    const iLatitude = inputData.get('latitude')\n    const iLongitude = inputData.get('longitude');\n\n    const data = {\n      inputLatitude: iLatitude,\n      inputLongitude: iLongitude\n    }\n\n    getCustomLocation(data);\n  }\n\n  const container = useRef(null);\n\n  const loaderAnim = () => {\n    lottie.loadAnimation({\n      container: container.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: require('../src/svg/loader.json')\n    })\n  }\n\n  const sunnyAnim = (card,weather) => {\n    lottie.loadAnimation({\n      container: card,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: weather\n    })\n    console.log('loading sunny anim');\n  }\n\n  //Check for location permissions\n  const checkPermissions = () => {\n    navigator.permissions.query({name:'geolocation'}).then(function(result) {\n      // Will return ['granted', 'prompt', 'denied']\n      console.log(result.state);\n      if(result.state === 'granted'){\n        getLocation();\n      }else{\n        console.log('Enable location to use current location');\n        const data = {\n          latitude: 37.7749,\n          longitude: 122.4194\n        }\n        getWeather(data)\n      }\n    });\n  }\n\n  //State changed\n  useEffect(() => {\n    checkPermissions();\n    setLoading(true);\n    loaderAnim();\n  },[])\n\n //Get location\n const getLocation = async () => {\n  setLoading(true);\n  if(animationDestroyed){\n    loaderAnim();\n  }\n\n  await navigator.geolocation.getCurrentPosition((position)=> {\n    setLoading(false);\n    const currentLocation = position.coords;\n    console.log(`https://api.openweathermap.org/data/2.5/onecall?lat=${currentLocation.latitude}&lon=${currentLocation.longitude}&units=imperial&appid=${apiKey}`);\n    getWeather(currentLocation);\n    setUsingCurrentLocation(true);\n  })\n }\n\n  //Get custom location\n  const getCustomLocation = async (data) => {\n    console.log(data);\n    setLoading(true);\n    if(animationDestroyed){\n      loaderAnim();\n    }\n    await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${data.inputLatitude}&lon=${data.inputLongitude}&units=imperial&appid=${apiKey}`)\n      .then(response => response.json())\n      .then((data) => {\n        setLoading(false);\n\n        lottie.destroy();\n        setAnimationDestroyed(true);\n\n        setUsingCurrentLocation(false);\n\n        console.log(data);\n\n        //User location\n        setUserLocation(data);\n\n        const weatherData = data.daily;\n        setWeather(weatherData);\n\n        //Set days\n        let newDays = [];\n        data.daily.map((day) => {\n          let dayInt = new Date(day.dt*1000).toDateString();\n          newDays.push(dayInt);\n        })\n\n        //Loading set to false\n        //setLoading(false);\n\n        setDays(newDays);\n\n        //Add emoji to each day\n        data.daily.map((day, index) => {\n\n          const id = day.weather[0].id;\n\n          //Assign\n          const card = document.getElementById(`card-image-${index}`)\n\n          //Filter weather and pass animation\n          if(id >= 200 && id < 300){\n            //Thunderstorm\n            const weather = rainy;\n            sunnyAnim(card,weather);\n          }else if(id >= 300 && id < 400){\n            //Drizzle\n            const weather = rainy;\n            sunnyAnim(card,weather);\n          }else if(id >= 300 && id < 400){\n            //Rain\n            const weather = rainy;\n            sunnyAnim(card,weather);\n          }else if(id >= 500 && id < 600){\n            //Snow\n            const weather = snow;\n            sunnyAnim(card,weather);\n          }else if(id >= 600 && id < 700){\n            //Atmosphere\n            const weather = cloudy;\n            sunnyAnim(card,weather);\n          }else if(id === 800){\n            //Clear\n            const weather = sunny;\n            sunnyAnim(card,weather);\n          }else if(id > 800){\n            //Clouds\n            const weather = cloudy;\n            sunnyAnim(card,weather);\n          }\n        })\n        \n      })\n      .catch(function(err){\n        setError(true);\n        console.log(`${err} sorry cannot display data`);\n        setLoading(true);\n        setErrorState(false);\n      });\n   }\n\n\n  //Get weather\n  const getWeather = async (currentLocation) => {\n    await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${currentLocation.latitude}&lon=${currentLocation.longitude}&units=imperial&appid=${apiKey}`)\n      .then(response => response.json())\n      .then((data) => {\n        lottie.destroy();\n        setAnimationDestroyed(true);\n\n\n\n        console.log(data);\n\n        setUsingCurrentLocation(true);\n\n        //User location\n        setUserLocation(data);\n\n        //Set coordinates\n        setLatitude(currentLocation.latitude);\n        setlongitude(currentLocation.longitude);\n\n        const weatherData = data.daily;\n        setWeather(weatherData);\n\n        //Set days\n        let newDays = [];\n        data.daily.map((day) => {\n          let dayInt = new Date(day.dt*1000).toDateString();\n          newDays.push(dayInt);\n        })\n        setDays(newDays);\n\n        //Loading set to false\n        setLoading(false);\n\n        //Add emoji to each day\n        data.daily.map((day, index) => {\n\n          const id = day.weather[0].id;\n\n          //Assign\n          const card = document.getElementById(`card-image-${index}`)\n\n          //Filter weather and pass animation\n          if(id >= 200 && id < 300){\n            //Thunderstorm\n            const weather = sunny;\n            sunnyAnim(card,weather);\n          }else if(id >= 300 && id < 400){\n            //Drizzle\n            const weather = sunny;\n            sunnyAnim(card,weather);\n          }else if(id >= 300 && id < 400){\n            //Rain\n            const weather = sunny;\n            sunnyAnim(card,weather);\n          }else if(id >= 500 && id < 600){\n            //Snow\n            const weather = snow;\n            sunnyAnim(card,weather);\n          }else if(id >= 600 && id < 700){\n            //Atmosphere\n            const weather = cloudy;\n            sunnyAnim(card,weather);\n          }else if(id === 800){\n            //Clear\n            const weather = sunny;\n            sunnyAnim(card,weather);\n          }else if(id > 800){\n            //Clouds\n            const weather = cloudy;\n            sunnyAnim(card,weather);\n          }\n        })\n      })\n      .then(()=>{\n        console.log('Weather data displayed');\n      })\n      .catch(function(err){\n        setError(true);\n        console.log(`${err} sorry cannot display data`);\n        setLoading(true);\n        setErrorState(false);\n      });\n    }\n\n    //Card\n    function cardHandler(e, day) {\n      e.preventDefault();\n      console.log(day);\n      setCardDetail(day);\n      setCardDetailVisible(true);\n    }\n\n    function handleCardClose(){\n      console.log('Closing card');\n      setCardDetailVisible(false);\n    }\n\n    function arrowLeftHandler(){\n      console.log(\"Left tapped\");\n      const container = document.getElementById(\"day-card-container\");\n      container.scrollLeft -= container.scrollWidth;\n    }\n\n    function arrowRightHandler(){\n      console.log(\"Right tapped\");\n      const container = document.getElementById(\"day-card-container\");\n      container.scrollLeft = container.scrollWidth;\n    }\n\n  return (\n    <div id='page-container'>\n      <h1 id='footer'>Made with love from the help of Lottie, OpenWeather API, and React - <a id='site-link' href=\"https://www.tylerwest.co/\">Tylerwest.co</a></h1>\n      <CardDetail handleCardClose={() => handleCardClose} cardDetailVisible={cardDetailVisible} dailyDetails={cardDetail}/>\n      <div id='weather-container'>\n      <div id='weather'>\n        <div id='loader' ref={container} className={loading ? \"loader-state\" : \"\"} ></div>\n        <div id='weather-form'>\n          {loading ? <h1>Predicting weather for...</h1> : <h1>{userLocation.timezone}</h1>}\n          <div id='input'>\n            <form onSubmit={(e) => onSubmit(e)}>\n              <input name='latitude' type=\"number\" step=\"any\" required=\"required\" id='inputField' placeholder='Latitude'></input>\n              <input name='longitude' type=\"number\" step=\"any\" id='inputField' placeholder='longitude'></input>\n              <button>Search location</button>\n              {usingCurrentLocation ? <button type=\"button\" onClick={() => getLocation()}>{userLocation.timezone}</button> : <button type=\"button\" onClick={() => getLocation()}>Use current location</button>}\n            </form>\n          </div>\n        </div>\n        {loading ? <PlaceholderCards errorState={errorState}/> :\n        <div id='day-card-container'>\n          <div onClick={() => arrowLeftHandler()} id='arrow-left'>\n          <svg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"30\" cy=\"30\" r=\"29.5\" fill=\"#2C2C2C\" stroke=\"white\"/><path d=\"M26.6066 19L37.2132 29.6066L26.6066 40.2132\" stroke=\"white\"/></svg>\n          </div>\n          <div id='arrow-right' onClick={() => arrowRightHandler()}>\n          <svg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"30\" cy=\"30\" r=\"29.5\" fill=\"#2C2C2C\" stroke=\"white\"/><path d=\"M26.6066 19L37.2132 29.6066L26.6066 40.2132\" stroke=\"white\"/></svg>\n          </div>\n          {userLocation.daily?.map((day,index) => (\n          <div id='day-card' key={index} onClick={(e) => cardHandler(e, day)}>\n              <div className='card-image' id={`card-image-${index}`}></div>\n              <h3 id='weather-text'>{day.weather[0].main}</h3>\n              <h2 id='day-text'>{moment.unix(day.dt).format(\"dddd MM/DD\")}</h2>\n              <ul id='weather-list'>\n                <li>\n                  <h4 id='list-sub'>Day</h4>\n                  <h4 id='list-header'>{day.temp.day}</h4>\n                </li>\n                <li>\n                  <h4 id='list-sub'>Morning</h4>\n                  <h4 id='list-header'>{day.temp.morn}</h4>\n                </li>\n                <li>\n                  <h4 id='list-sub'>Evening</h4>\n                  <h4 id='list-header'>{day.temp.eve}</h4>\n                </li>\n                <li>\n                  <h4 id='list-sub'>Night</h4>\n                  <h4 id='list-header'>{day.temp.night}</h4>\n                </li>\n              </ul>\n            </div>\n        ))}</div>}\n      </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}